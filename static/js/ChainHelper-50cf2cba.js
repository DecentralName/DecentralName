import{u as r,E as d,bi as g,U as s}from"./index-736421be.js";const b={isZeroAddress(i){return i=="0x0000000000000000000000000000000000000000"},async getBalance(i){return r().getProvider().getBalance(i)},async callExternal(i,a,t){if(!i)return;let n=null;(!t||!t.bNotLoading)&&(n=d.service({lock:!0,text:t&&t.loadingTxt?t.loadingTxt:"loading..",background:"rgba(0, 0, 0, 0.6)"}));let e=null;try{let o=r();await o.requestLogin();const f=await o.getNameContractWithSigner(),l=await i(f);n&&(n.close(),n=null),(!t||!t.bHideNotify)&&(e=g({title:t&&t.notifyTitle?t.notifyTitle:"Waiting to deal..",dangerouslyUseHTMLString:!0,showClose:!1,duration:0,message:`Waiting <a target="_blank" href="https://etherscan.io/tx/${l.hash}">transaction</a> to be minted..`}));const c=await l.wait();e&&(e.close(),e=null),a&&a(c)}catch(o){o.toString().indexOf("cannot estimate gas")!=-1?s.alert("Operation forbidden, as will be reverted. Refresh page and try again."):o.toString().indexOf("insufficient funds")!=-1&&s.alert("Operation forbidden, insufficient funds.")}finally{n&&n.close(),e&&e.close()}}};export{b as C};
